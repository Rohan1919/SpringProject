package com.lti.hr.daos;


import java.math.BigDecimal;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.stereotype.Repository;

import com.lti.hr.entities.Employee;
import com.lti.hr.exceptions.HrException;

@Repository
public class EmpDaoJdbcImpl implements EmpDao{

	@Autowired
	private JdbcTemplate template;
	
	@Override
	public ArrayList<Employee> getEmpList() throws HrException {
		String query="select empno,ename,sal from emp";
		List<Map<String,Object>> list=template.queryForList(query,new Object[] {});
		System.out.println("\nEmpNo\tEName\t\tSal\tComm");
		for(Map<String,Object> item:list) {
			System.out.println((BigDecimal)item.get("empno").intValue());
			System.out.println("\t"+item.get("ename"));
			System.out.println("\t"+item.get("sal"));
		}
		return null;
	}

}
